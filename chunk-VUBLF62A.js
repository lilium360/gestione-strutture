import{a as R,c as L}from"./chunk-AOWNFRET.js";import{a as z,b as O,c as $,d as M,s as N,t as P}from"./chunk-XVVISF6R.js";import{D as a,Fa as I,G as b,K as C,M as E,N as s,O as v,P as g,Q as S,R as F,S as h,T as o,U as r,V as p,W as y,X as m,Y as c,da as d,ea as D,fa as T,ia as w,ib as A,jb as V,r as x,ra as k,u as _,v as f}from"./chunk-J337Y4CE.js";import"./chunk-FDERIQAA.js";var B=t=>[t,"edit"],G=(t,i)=>i.id;function Y(t,i){if(t&1){let e=y();o(0,"button",7),m("click",function(){let l=_(e).$implicit,u=c();return f(u.onCategoryFilter(l))}),d(1),r()}if(t&2){let e=i.$implicit,n=c();v("active",n.selectedCategory===e),a(),T(" ",n.getCategoryLabel(e)," ")}}function j(t,i){t&1&&p(0,"app-loading-state",9)}function H(t,i){if(t&1){let e=y();o(0,"app-error-state",13),m("retry",function(){_(e);let l=c();return f(l.loadData())}),r()}if(t&2){let e=c();s("message",e.facade.error()||void 0)}}function U(t,i){t&1&&(o(0,"div",11)(1,"app-empty-state",14)(2,"a",2),d(3,"Add Your First Feature"),r()()())}function J(t,i){if(t&1&&(o(0,"p",29),d(1),r()),t&2){let e=c().$implicit;a(),D(e.description)}}function K(t,i){if(t&1){let e=y();o(0,"div",16)(1,"div",18)(2,"div",19),p(3,"lucide-icon",20),r(),o(4,"div",21)(5,"a",22),p(6,"lucide-icon",23),r(),o(7,"button",24),m("click",function(){let l=_(e).$implicit,u=c(2);return f(u.confirmDelete(l))}),p(8,"lucide-icon",25),r()()(),o(9,"div",26)(10,"h3",27),d(11),r(),o(12,"span",28),d(13),r(),C(14,J,2,1,"p",29),r()()}if(t&2){let e=i.$implicit,n=c(2);a(3),s("name",e.icon)("size",24),a(2),s("routerLink",w(9,B,e.id)),a(),s("size",16),a(2),s("size",16),a(3),D(e.name),a(),E("data-category",e.category),a(),T(" ",n.getCategoryLabel(e.category)," "),a(),g(e.description?14:-1)}}function Q(t,i){t&1&&p(0,"app-empty-state",17)}function W(t,i){if(t&1&&(o(0,"div",15),F(1,K,15,11,"div",16,G),r(),C(3,Q,1,0,"app-empty-state",17)),t&2){let e=c();a(),h(e.facade.filteredFeatures()),a(2),g(e.facade.filteredFeatures().length===0&&(e.searchTerm||e.selectedCategory)?3:-1)}}var q=class t{facade=x(R);categoryLabels=L;categories=["connectivity","equipment","accessibility","comfort"];searchTerm="";selectedCategory=null;showDeleteDialog=!1;featureToDelete=null;ngOnInit(){this.loadData()}loadData(){this.facade.loadFeatures()}onSearch(i){this.searchTerm=i,this.facade.setSearchTerm(i)}onCategoryFilter(i){this.selectedCategory=i,this.facade.setCategoryFilter(i)}getCategoryLabel(i){return L[i]}confirmDelete(i){this.featureToDelete=i,this.showDeleteDialog=!0}onDeleteConfirm(){this.featureToDelete&&this.facade.deleteFeature(this.featureToDelete.id).subscribe(),this.onDeleteCancel()}onDeleteCancel(){this.showDeleteDialog=!1,this.featureToDelete=null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-features-list"]],decls:17,vars:7,consts:[[1,"page-container"],["title","Features","subtitle","Manage amenities and equipment"],["routerLink","new",1,"btn","btn-primary"],["name","plus",3,"size"],[1,"toolbar"],["placeholder","Search features...",3,"valueChange","value"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"filter-tab",3,"active"],["message","Loading features..."],[3,"message"],[1,"empty-card"],["title","Delete Feature","confirmText","Delete","variant","destructive",3,"confirm","cancel","isOpen","message"],[3,"retry","message"],["title","No features yet","description","Get started by adding your first feature"],[1,"list-grid"],[1,"list-card"],["icon","search","title","No results","description","Try a different search term or category"],[1,"card-header"],[1,"card-icon","icon-accent"],[3,"name","size"],[1,"card-actions"],["title","Edit",1,"icon-btn",3,"routerLink"],["name","pencil",3,"size"],["title","Delete",1,"icon-btn","icon-btn-danger",3,"click"],["name","trash-2",3,"size"],[1,"card-content"],[1,"card-title"],[1,"category-badge"],[1,"card-description"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"app-page-header",1)(2,"a",2),p(3,"lucide-icon",3),d(4," Add Feature "),r()(),o(5,"div",4)(6,"app-search-input",5),m("valueChange",function(u){return n.onSearch(u)}),r(),o(7,"div",6)(8,"button",7),m("click",function(){return n.onCategoryFilter(null)}),d(9," All "),r(),F(10,Y,2,3,"button",8,S),r()(),C(12,j,1,0,"app-loading-state",9)(13,H,1,1,"app-error-state",10)(14,U,4,0,"div",11)(15,W,4,1),o(16,"app-confirm-dialog",12),m("confirm",function(){return n.onDeleteConfirm()})("cancel",function(){return n.onDeleteCancel()}),r()()),e&2&&(a(3),s("size",16),a(3),s("value",n.searchTerm),a(2),v("active",n.selectedCategory===null),a(2),h(n.categories),a(2),g(n.facade.loading()?12:n.facade.error()?13:n.facade.isEmpty()?14:15),a(4),s("isOpen",n.showDeleteDialog)("message","Are you sure you want to delete "+((n.featureToDelete==null?null:n.featureToDelete.name)||"")+"?"))},dependencies:[k,I,V,A,P,N,z,O,$,M],encapsulation:2,changeDetection:0})};export{q as FeaturesListComponent};
